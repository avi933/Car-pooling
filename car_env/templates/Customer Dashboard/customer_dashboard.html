{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}
{% block extra_stylesheet %}
<style type="text/css">
   @media (max-width: 1200px){
    .assignments .right-info .labels-data > h4{
      font-size: 16px!important;
    }
    .assignments .right-info .date-labels > h4{
      font-size: 16px!important;
    }

}
</style>
<!-- <style type="text/css">
   .passInputfield input{
   width: 100%;
   padding: 10px 13px;
   padding-right: 13px;
   font-size: 14px;
   line-height: 24px;
   color: #a6a6a6;
   border: 1px solid #e8e8e8;
   display: block;
   margin-bottom: 13px;
   border-radius: 4px;
   padding-right: 28px;
   height: 34px;
   }
   @media(min-width: 450px){
   .adjustYellowButtons{
   padding: 0 21%;
   }
   .adjustYellowButtonsSecond{
   padding: 0 50%;
   }
   .customerBtn{
   margin-left: 40%;
   margin-bottom: 10px;
   }
   }
   /*Css for star rating/feedback*/
   .rating-box {
   display: inline-block;
   }
   .rating-box .rating-container {
   direction: rtl !important;
   }
   .rating-box .rating-container label {
   display: inline-block;
   /*margin: 15px 0;*/
   color: #d4d4d4;
   cursor: pointer;
   font-size: 23px;
   transition: color 0.2s;
   }
   .rating-box .rating-container input {
   display: none;
   }
   .rating-box .rating-container  label:hover,.rating-box .rating-container label:hover ~ label,.rating-box .rating-container input:checked ~ label  {
   color: gold;
   }
   /*Feedback End*/
   .CardFooter{
   background-color: #eee;
   padding: 7px;
   }
   .customer-tab{
   text-decoration: overline;
   border-bottom: 1px #333232 solid;
   list-style-type:none;
   color: #7f7f7f;
   }
   .tab-content>.active {
   display: block;
   border-bottom: none;
   background-color: white;
   }
   .inline-collapse {
   font-size: smaller;
   }
   .item-pagination {
   background-color: white;
   }
   .pagination a {
   color: black;
   float: left;
   padding: 8px 16px;
   text-decoration: none;
   transition: background-color .3s;
   }
   .pagination a.active {
   background-color: dodgerblue;
   color: white;
   }
   .pagination a:hover:not(.active) {
   background-color: #ddd;
   }
   #customer-header .active .row2{
   border-bottom: 1px solid black;
   background-color: #eee;
   color: black !important;
   }
   .label-right-allign {
   padding-right: 0px;
   text-align: right;
   padding-left: 0px;
   font-weight: 600;
   color: black;
   margin-top: 7px;
   }
   .placeCard {
   margin-top: 18px;
   background-color: #eee;
   padding: 0px 0px 0px;
   }
   .placeCard:hover {
   font-weight: bold;
   }
   .row2 a {
   color: inherit;
   font-size: larger;
   text-decoration: none;
   }
   .row2 a:active,
   a:focus {
   color: black;
   }
   .row1 a {
   font-size: medium;
   color: inherit;
   text-decoration: none;
   }
   #left-nav-tab .row1 .active a{
   color: black !important;
   font-weight: bold;
   }
   .styletext {
   color: #ffb100 !important;
   }
   .CardHeader {
   padding: 7px;
   background: #fff0ba
   }
   .glyphicon {
   margin-right: 5px;
   }
   .thumbnail {
   margin-bottom: 20px;
   padding: 0px;
   -webkit-border-radius: 0px;
   -moz-border-radius: 0px;
   border-radius: 0px;
   }
   .item.list-group-item {
   float: none;
   width: 100%;
   background-color: white;
   margin-bottom: 10px;
   padding: 0px 15px 0px;
   border-bottom: 1px solid #ddd;
   }
   .item.list-group-item:nth-of-type(odd):hover,
   .item.list-group-item:hover {
   background: white;
   }
   .item.list-group-item .list-group-image {
   margin-right: 10px;
   }
   .item.list-group-item .thumbnail {
   margin-bottom: 0px;
   }
   .item.list-group-item .caption {
   padding: 9px 9px 0px 9px;
   }
   .item.list-group-item:nth-of-type(odd) {
   background: white;
   }
   .item.list-group-item:before,
   .item.list-group-item:after {
   display: table;
   content: " ";
   }
   .item.list-group-item img {
   float: left;
   }
   .item.list-group-item:after {
   clear: both;
   }
   .list-group-item-text {
   margin: 0 0 11px;
   }
   .input-icons i {
   position: absolute;
   }
   .input-icons {
   width: 100%;
   }
   .icon {
   margin-left: 70%;
   padding: 10px;
   color: rgb(76, 82, 76);
   min-width: 50px;
   text-align: center;
   }
   .input-field {
   width: 100%;
   padding: 10px;
   text-align: center;
   }
   .row1 {
   margin-top: 4px;
   margin-bottom: 4px;
   margin-left: 4px;
   margin-right: 4px;
   padding-left: 4px;
   padding-top: 10px;
   padding-bottom: 10px;
   border-width: 1px;
   border-color: #84a9ac;
   }
   .row1 li a:hover {
   font-weight: bold;
   }
   .container1 {
   padding: 4px 2px 27px 23px;
   border: 1px #eee solid;
   }
   .container2 {
   margin-top: 10px;
   }
   .input1 {
   padding-top: 5px;
   padding-left: 10px;
   padding-right: 10px;
   }
   .btn1 {
   background-color: rgb(252, 236, 19);
   }
   .btn1:hover {
   color: aliceblue;
   background-color: #3c763d;
   }
   .tab-heading {
   margin: 0px;
   margin-top: 0px;
   margin-bottom: 6px;
   padding: 12px;
   background-color: #b2b2b2;
   color: #1b233e;
   }
   .drag-drop1 input {
   outline: none;
   opacity: 0;
   }
   .drag-drop {
   position: relative;
   width: 300px;
   height: 160px;
   border: 2px dashed #e6e3e3;
   }
   .drag-drop p {
   width: 100%;
   height: 100%;
   text-align: center;
   color: #1c2b39;
   font-family: inherit;
   }
   .drag-drop input {
   position: absolute;
   margin: 0;
   padding: 0;
   width: 100%;
   height: 100%;
   outline: none;
   opacity: 0;
   }
   .drag-drop button {
   margin: 0;
   color: #07e4d0;
   border: 2px solid #07e4d0;
   background: white;
   font-weight: bold;
   width: 124px;
   height: 35px;
   border-radius: 4px;
   transition: all .2s ease;
   }
   @media (max-width: 768px){
   .col-sm-8,.col-sm-6,.col-sm-5{
   padding-right: 0px;
   padding-left: 0px;
   }
   .customer-tab{
   text-decoration: none!important;
   border: 4px solid #eee;
   display: block;
   }
   .adjustDashboard{
   margin-top: 30px !important;
   display: inline-block;
   }
   .adjustButton{
   margin-bottom: 70px;
   display: flex;
   }
   .adjustYellowButtons{
   margin-left: -32px;
   }
   .adjustYellowButtonsSecond{
   margin-bottom: 40px;
   }
   }
   #my-file { visibility: hidden; }
   .active1{
   border-bottom: 1px solid black;
   background-color: #eee;
   color: black !important;
   }
   .pagenumbers button {
   width: 40px;
   height: 40px;
   font-size: 1.3rem !important;
   appearance: none;
   border: none;
   outline: none;
   cursor: pointer;
   background-color: white;
   margin: 0px;
   transition: 0.4s;
   color: rgb(10, 10, 10);
   font-size: 18px;
   text-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
   box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
   }
   .pagenumbers button:hover {
   background-color: #ffc000;
   }
   .pagenumbers button.active {
   background-color: #ffc000;
   box-shadow: inset 0px 0px 4px rgba(0, 0, 0, 0.2);
   }
</style> -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
     /*-------Booking card CSS Start------------------*/
   /* .assignments .heading > a > h4 { text-decoration: underline; color: rgb(45, 45, 46);}

.assignments .heading .headingId { color: blue;}

.assignments .heading .heading-type {font-weight: 800; color: red;}

.assignments .right-info .date-labels {text-align: right; padding-right: 0px;}

.assignments .right-info .date-labels > h4 {font-weight: 500; color: rgb(10, 10, 10);}
    

.assignments .right-info .labels-data > h4 {font-weight: bold; color: darkgreen; padding: 5px 0px; margin-bottom: 0px !important;}

.assignments .right-info .labels-data> div > h4{margin-top: 0px; margin-bottom: 0px;}

.assignments .right-info .labels-data > h5 {visibility: visible;margin-top: 0px; margin-bottom: 0px;}

.assignments .right-info .labels-data > h5 > span {font-size: x-large; font-weight: 800; color: darkorange;}

.assignments .specialreq {padding: 0px;}

.assignments .specialreq >div >span { margin-right: 30px;}

.assignments .car-driver >h5 > span { margin-right: 10px;}

.assignments .car-driver .heading {background-color: #f0eeee; padding: 5px; margin-top: 5px;}

.assignments .car-driver .heading > h4 {text-align: left; font-weight: 800; color: black;}
.assignments .car-driver .options {padding: 0px; padding-top: 10px;}
.assignments .car-driver .options >div { padding: 0px;}

.assignments .car-driver .options >div>h5 { margin-bottom: 0px; padding-bottom: 0px;}



.assignments .buttons >div > button { padding: 0px auto; }

.assignments .card-collapse {background-color: #fa9c9c; margin: 20px;}*/
/*.assignments .extra-payment-icons .amount{
   color: #ffc000;
   
}
.large{
   font-size: x-large;
   font-weight: 600;
}

.check{
color: #17ee17;
font-weight: bold;   
}
.cross{
 color: red;
font-weight: bold;
}
.checked {
  color: orange;
}
.boldBlack{
   color: black;
   font-weight: bold;
}*/
</style>

{% endblock extra_stylesheet %}

{% block content %}
<div class="container" id="customerPage" >
   <div class="row">
      <div class="col-md-12 col-sm-12">
         <!-- /////////Side dashboard///////////////// -->
         <div class="col-md-3 adjustDashboard" id="left-nav-tab" style="margin-top: 80px">
            <div class=" container1">
               <ul class="row row1" style="list-style-type: none;">
                  <li class="active row1" id="list1">
                     <a href="#customerProfile" data-toggle="tab">
                     <i class="far fa-user"></i>&nbsp;&nbsp;Profile</a>
                  </li>
                  <li class="row row1" id="list2">
                     <a href="{% url 'core:home' %}">
                     <i class="far fa-plus-square"></i>&nbsp;&nbsp;Create New Booking</a>
                  </li>
                  <li class=" row1" id="list3-1">
                           <a href="#upcomingRides" data-toggle="tab">
                           <i class="fa fa-calendar-check-o"></i>&nbsp;&nbsp;Upcoming</a>
                        </li>
                        <li class="row row1" id="list3-2">
                           <a href="#rideHistory" data-toggle="tab">
                           <i class="fa fa-calendar"></i>&nbsp;&nbsp;History</a>
                        </li>
                        <li class="row row1" id="list3-3">
                           <a href="#incompleteRides" data-toggle="tab">
                           <i class="fa fa-suitcase"></i>&nbsp;&nbsp;Incomplete Booking</a>
                        </li>
                        <li class="row row1" id="list3-3">
                           <a href="#canceledRides" data-toggle="tab">
                           <i class="fa fa-suitcase"></i>&nbsp;&nbsp;Cancelled Booking</a>
                        </li>
                  <li class="row row1" id="list4">
                     <a href="#customerProfile" data-toggle="tab">
                     <i class="fas fa-user-plus"></i>&nbsp;Reffer a Friend
                     </a>
                  </li>
                  <li class="row row1" id="list5" data-toggle="collapse" data-target="#collapseExample1"  aria-expanded="false" aria-controls="collapseExample1">
                     <a><i class="fas fa-rupee-sign"></i>&nbsp;My Wallet</a>
                     <ul class="collapse" id="collapseExample1">
                        <li class="card card-body">
                           Your Wallet Balance Is : Rs {{ request.user.wallet_balance }}
                        </li>
                     </ul>
                  </li>
               </ul>
            </div>
         </div>
         <!-- /////////////End Of Side dashBoard/////////// -->
         <div class="col-md-9 container2">
            <div class="tab-content">
               <div class="tab-pane active " id="customerProfile" role="tabpanel">
                  <div class="col-md-12 col-sm-12">
                     <h4 class="text-center tab-heading">Customer Profile</h4>
                  </div>
                  <div class="col-sm-12 col-md-12">
                     <ul id="customer-header" class="col-sm-12 col-md-12 customer-tab nav-tab" style="padding: 0;">
                        <li class="col-sm-4 text-center row2 active1 " id="side-list-1">
                           <a href="#editProfile" style="font-weight: bold; " data-toggle="tab">&nbsp;Edit Profile</a>
                        </li>
                        <li class="col-sm-4 text-center row2" id="side-list-2">
                           <a href="#changePassword" style="font-weight: bold;" data-toggle="tab">&nbsp;Change Password</a>
                        </li>
                        <li class="col-sm-4 text-center row2" id="side-list-3">
                           <a href="#referral" style="font-weight: bold;" data-toggle="tab">&nbsp;Referral</a>
                        </li>
                     </ul>
                   <!--/////togable Content pannel start/////// -->
                     <div class="tab-content">
                        <div class="tab-pane active" id="editProfile">
                           <form class="booking-frm" method="POST" id="edit-profileform" enctype="multipart/form-data">
                              {% csrf_token %}
                              <input type="hidden" name="type" value="profile">
                              <div class="col-sm-7" style="margin-top: 24px;margin-bottom: 24px;">
                                 <div class=" row input1">
                                    <label class="col-sm-4 col-form-label label-right-allign">First Name</label>
                                    <div class="col-sm-8">
                                       {% render_field userform.first_name class="form-control" type="text" %}
                                    </div>
                                 </div>
                                 <div class=" row input1">
                                    <label class="col-sm-4 col-form-label label-right-allign">Last Name</label>
                                    <div class="col-sm-8">
                                       {% render_field userform.last_name class="form-control" type="text" %}
                                    </div>
                                 </div>
                                 <div class="row input1">
                                    <label class="col-sm-4 col-form-label label-right-allign">Email</label>
                                    <div class="col-sm-8">
                                       {% render_field userform.email class="form-control" type="email" %}
                                    </div>
                                 </div>
                                 <div class="row input1">
                                    <label class="col-sm-4 col-form-label label-right-allign">Phone</label>
                                    <div class="col-sm-8">
                                       {% render_field userform.mobile class="form-control" type="email" readonly='' %}
                                    </div>
                                 </div>
                                 <div class="row input1">
                                    <label class="col-sm-4 col-form-label label-right-allign">Address</label>
                                    <div class="col-sm-8">
                                       {% render_field profileform.address class="form-control" type="text" %}
                                    </div>
                                 </div>
                                 <!-- <div class="row input1">
                                    <label class="col-sm-4 col-form-label label-right-allign">Password</label>
                                    <div class="col-sm-8">
                                        <input type="password" class="form-control" id="inputPassword" name="password">
                                    </div>
                                    </div> -->
                                 <div class="row input1">
                                    <label class="col-sm-4 col-form-label label-right-allign">Uplaod Documents</label>
                                    <div class="col-sm-8 drag-drop1">
                                       <div class="form-control" style="height: auto;">
                                          {% render_field profileform.document type="file" class="input-file" %}
                                          <p style="margin-top:-19px;font-style: italic; color:#e6e3e3;">
                                             <i class="far fa-file"></i> Drop file here
                                          </p>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              {% if request.user.profile_pic %}
                              <div class="col-sm-5" style="margin-top: 24px;">
                                 <div class="row text-center" class="">
                                    <img src="{{ request.user.profile_pic.url }}" width="50%" alt="">
                                 </div>
                                 <div class="row text-center" style="margin-top: 20px;">
                                    {% render_field userform.profile_pic class="input-file" id='my-file' %}
                                    <!-- <input type="file" class="input-file" id="my-file"> -->
                                    <button type="button" id="my-button" class="btn btn-outline-primary">Browse Files</button>
                                    <div class="label-right-allign" style="text-align: center;">
                                       Select your profile image and click update<br>
                                       <p style="font-size: x-small;color: #e61616;font-style: italic;"> Size must be 200KB </p>
                                    </div>
                                 </div>
                              </div>
                              {% else %}
                              <div class="col-sm-5 adjustButton col-md-5 text-center" style="margin-top: 24px;">
                                 <div class="drag-drop">
                                    <!-- <img src="{% static 'images/comment_img1.jpg' %}" alt=""> -->
                                    {% render_field userform.profile_pic class="input-file" onchange="readURL(this);" %}
                                    <img id="blah" src="" alt="" />
                                    <p class="p23">
                                       <i style="margin-top: 10px;color: #e6e3e3;" class="fas fa-cloud-upload-alt fa-4x">
                                       </i><br> Drag&Drop files here <br> or<br>
                                       <button type="button" class="btn btn-outline-primary">Browse Files</button> 
                                    </p>
                                    <div class="label-right-allign" style="text-align: center;">
                                       Select your profile image and click update<br>
                                       <p style="font-size: x-small;color: #e61616;font-style: italic;"> Size must be 200KB </p>
                                    </div>
                                 </div>
                              </div>
                              {% endif %}
                              <div class="col-md-12 adjustYellowButtons col-sm-12" style=" text-align: -webkit-center; margin-top : 40px">
                                 <div style="display: flex;width:fit-content;">
                                    <button class="book-btn" type="submit">Update</button>&nbsp;&nbsp;
                                    <button class="book-btn" type="Cancel">Cancel</button><br>
                                 </div>
                                 <br>
                              </div>
                           </form>
                        </div>
                        <div class="tab-pane" id="changePassword" role="tabpanel">
                           <form class="booking-frm" method="POST" id="change-passwordform">
                              {% csrf_token %}
                              <input type="hidden" name="type" value="change_password">
                              <div class="col-sm-9" style="margin-top: 10px;">
                                 <div class="form-group row input1">
                                    <label class="col-sm-4 col-form-label label-right-allign">Enter Current Password</label>
                                    <div class="col-sm-8">
                                       <input type="password" id="current-pass" class="form-control" name="current_password">
                                    </div>
                                 </div>
                                 <div class="form-group row input1">
                                    <label class="col-sm-4 col-form-label label-right-allign">Enter New Password</label>
                                    <div class="col-sm-8 passInputfield">
                                       <input type="password" class="" id="password1" placeholder="Enter New Password" style="margin-bottom: 0px;" onkeydown="remove1(this.Element)">
                                       <span style="top: 24px" toggle="#password1" class="fa fa-fw fa-eye field-icon toggle-password"><span class="tooltiptext">Click to see password</span></span>
                                       <span class="form-text" id="password_strength"></span>
                                       <small class="form-text" id="password">Error message</small>
                                    </div>
                                 </div>
                                 <div class="form-group row input1 passInputfield">
                                    <label class="col-sm-4 col-form-label label-right-allign">Confirm New Password</label>
                                    <div class="col-sm-8">
                                       <input type="Password" class="" name="new_password" id="passwordConfirm1" placeholder="Confirm New Password" style="margin-bottom: 0px;" onkeydown="remove2(this.Element)">
                                       <span style="top: 24px" toggle="#passwordConfirm1" class="fa fa-fw fa-eye field-icon toggle-password"><span class="tooltiptext">Click to see password</span></span>
                                       <small class="form-text" id="password2">Error message</small>
                                    </div>
                                 </div>
                                 <div class=" col-sm-12 ">
                                    <button type="submit" id="button1" class="book-btn customerBtn">Update</button>
                                 </div>
                              </div>
                           </form>
                        </div>
                        <div class="tab-pane" id="referral" role="tabpanel">
                           <div class="col-md-12 col-sm-12">
                               {% for referral_code in referral_codes %}
                              <div class="adjustYellowButtonsSecond row input1">
                                 <label class="col-sm-4 col-form-label label-right-allign">Your Referal code</label>
                                 <div class="col-sm-5" style="display: flex;">
                                    <input type="text" id="refferral-input" class="form-control" value="{{ referral_code.promotional_code }}" readonly>
                                    <div class="copytooltip ">
                                       <button style="width: 88px;height: 35px;" onclick="copyFunction()" onmouseout="outFunc()">
                                       <span class="tooltiptext" id="myTooltip">Copy to clipboard</span>
                                       Copy text
                                       </button>
                                    </div>
                                 </div>
                              </div>
                               {% endfor %}
                           </div>
                           <div class="col-sm-12 col-md-12" style="border-bottom: silver solid 2px;padding: 25px ">
                           <div class="col-sm-4" style="padding-bottom: 10px">&nbsp;&nbsp;
                              <button class="btn btn-default" style="color: #2cb930;font-weight: bolder;width: 100%;" onclick="location.href='https://wa.me/?text=Try%20this%20awesome%20ride%20with%20Taxotaxi'"><i class="fab fa-whatsapp"></i>&nbsp;Reffer on whatsapp</button>
                           </div>
                           <div class="col-sm-4" style="padding-bottom: 10px">&nbsp;&nbsp;
                             <!--  <a href="mailto:?subject=friend invitation&body=Hi friend please try this awesome platfoam to plan your trip /" > -->
                                <button class="btn btn-default" onclick="location.href='mailto:?subject=friend invitation&body=Hi friend please try this awesome platfoam to plan your trip /'" style="color: #1971bf;font-weight: bolder;width: 100%;"><i class="far fa-envelope"></i>&nbsp;Reffer on Email</button>
                              <!-- </a>&nbsp;&nbsp; -->
                           </div>
                           <div class="col-sm-4" style="padding-bottom: 10px">&nbsp;&nbsp;
                              <!-- <a href="sms:?body=Try%20new%20awesome%20platfoam%20Taxotaxi%20for%20awesome%20ride%20experience%20/" > -->
                                <button class="btn btn-default" onclick="location.href='sms:?body=Try%20new%20awesome%20platfoam%20Taxotaxi%20for%20awesome%20ride%20experience%20/'" style="color: #f7df24;font-weight: bolder;width: 100%;"><i class="far fa-comment"></i>&nbsp;Reffer on Message</button>
                              <!-- </a> -->
                           </div>
                        </div>
                        </div>
                     </div>
                  </div>
               </div>
               <!-- /////////end of customer profile///////// -->

               <!--/////////////start of new Booking////////// -->
               <div class="tab-pane assignments" id="upcomingRides" role="tabpanel">
                  <div class="row">
                     <h4 class="text-center tab-heading">Upcoming Booking</h4>
                     <br>
                  </div>
                   {% for ride in upcoming_rides %}
                <div class="col-sm-12 noPadding1" id="
                   UpcommingCard">
                     <div class="col-sm-1 listNumber" >
                        <h4>{{ forloop.counter }}</h4>
                     </div>
                     <div class="col-sm-5 heading noPadding1">
                           <h4>
                              <span class="from">{{ ride.pickup_city }}</span>
                               To
                              <span class="to">{{ ride.drop_city }}</span>
                           </h4>
                        <h5 class="headingId">
                        Booking Id: <span class="bookingId">{{ ride.id }}</span></h5>
                        <h5 class="heading-type">
                            {{ ride.ride_type }}/ <span>{{ ride.car_type }}</span> </h5>
                        <h5>Night Pick Allowance {% if ride.early_pickup_charges %}<span class="nightPickAllowance check">&nbsp;&nbsp;&nbsp;&#10004</span>{% else %}<span class="nightPickAllowance cross">&nbsp;&nbsp;&nbsp;<i class="fas fa-times"></i></span>{% endif %}</h5>
                        <h5>Night Drop Allowance {% if ride.late_drop_charges %}<span class="nightDropAllowance check">&nbsp;&nbsp;&#10004</span>{% else %}<span class="nightDropAllowance cross">&nbsp;&nbsp;<i class="fas fa-times"></i></span>{% endif %}</h5>
                        <h5>Driver Allowance {% if ride.night_charges %}<span class="driverAllowance check">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004</span>{% else %}<span class="driverAllowance cross">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-times"></i></span>{% endif %}</h5>
                        <h5>Toll Tax Included <span class="driverAllowance check">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004</span></h5>
                        <h5>Sales Tax Included <span class="driverAllowance check">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#10004</span></h5>
                     </div>
                     <div class="col-sm-6 right-info noPadding1">
                        <div class="col-sm-4 date-labels">
                           <h4>
                              <span>Start Trip</span>
                           </h4>
                           
                        </div>
                         <div class="col-sm-8 labels-data noPadding1">
                            <h4>
                              <img src="{% static 'images/icons/Assignment-inactive.png' %}" alt="" width="10%">
                              <span>{{ ride.pickup_datetime|date:"j-M-Y, l" }}</span>
                           </h4>
                            <h4 style="margin-top: 0px; ">
                              <img src="{% static 'images/icons/Assignment-inactive.png' %}" alt="" width="10%">
                              <span>{{ ride.pickup_datetime|time:"h:i A" }}</span>
                           </h4>
                         </div>
                         <div class="col-sm-4 date-labels">
                           <h4 style="margin-top: 0px;">
                              <span>End Trip</span>
                           </h4>
                         </div>
                        <div class="col-sm-8 labels-data noPadding1">
                           
                          
                           <h4 style="margin-top: 0px; ">
                              <img src="{% static 'images/icons/Assignment-inactive.png' %}" alt="" width="10%"> <span class="date">{{ ride.drop_datetime|date:"j-M-Y, l" }}</span>
                           </h4>
                           <h4 style="margin-top: 0px; ">
                              <img src="{% static 'images/icons/Assignments-inactive.png' %}" alt="" width="10%"> <span class="time">{{ ride.drop_datetime|time:"h:i A" }}</span>
                           </h4>
                           <div>
                              <h4>
                                 <img src="{% static 'images/icons/Car-details--inactive.png' %}" alt=""  width="10%">
                                 <span style="font-weight: 600;">KM Limit : {{ ride.distance }}</span>
                                 <small style="visibility: visible;"> km</small><br>
                                 <small style="visibility: visible;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extra km Charges: Rs {{ ride.price_km }}/-</small>
                              </h4>
                           </div>
                           
                        </div>
                        
                     </div>

                  </div>
                  <div class="col-sm-12 extra-payment-icons" style="margin-left: 8.3%; padding-left: 0px; margin-bottom: 30px;">
                           <div class="col-sm-4 ">
                              <h5>
                              <img src="{% static 'images/icons/Payment-inactive.png' %}" alt="" width="15%">Total Amount  
                              <div class="col-sm-12" > 
                              <span class="amount large">{{ ride.final_ride_fare }}</span></div>
                           </h5>
                           </div>
                           <div class="col-sm-4">
                              <h5>
                              <img src="{% static 'images/icons/Payment-inactive.png' %}" alt="" width="15%">Advanced Paid  
                              <div class="col-sm-12" > 
                              <span class="amount large">{{ ride.advance }}</span></div>
                           </h5>
                           </div>
                           <div class="col-sm-4">
                              <h5>
                              <img src="{% static 'images/icons/Payment-inactive.png' %}" alt="" width="15%">Pending Amount 
                              <div class="col-sm-12" > 
                              <span class="amount large">{{ ride.amount_due }}</span></div>
                           </h5>
                           </div> 
                        </div>
                  <div class="col-sm-12 col-md-12 noPadding1">
                     <div class="col-sm-1"></div>
                     <div class="col-sm-5" style="padding-left: 0px;">
                        <h5 class="boldBlack"><div class="color-box" style="background-color: #169d16;"></div>Pickup Address</h5>
                        <div class="col-sm-12">
                        <p>{{ ride.pickup }}</p></div>
                     </div>
                     <div class="col-sm-5">
                        <h5 class="boldBlack"><div class="color-box" style="background-color: orange;"></div>Drop Address</h5>
                        <div class="col-sm-12">
                           <p>{{ ride.drop }}</p>
                        </div>
                     </div>
                  </div>
                  <div class="col-sm-12 col-md-12 specialreq" style="margin-left: 8.3%;">
                     <h4 class="boldBlack">Special Requirements</h4>
                      {% for choice in ride.additional_choices.all %}
                         <div class="col-sm-4">
                            <span><span class="check">&#10004 </span>{{ choice.name }}</span>
                         </div>
                      {% endfor %}
                  </div>
                  <div class="col-sm-12 col-md-12 car-driver"  style="padding: 0px;">
                    {% if ride.note %}
                     <div>
                        <small style="visibility: visible; color: red;">* Note : {{ ride.note }}</small>
                     </div>
                      {% endif %}
                     <h5>
                           <div class="row" style="margin-left: 8.3%; margin-bottom: 30px;">
                                 <div class="col-sm-4 noPadding1"><span class="cngAllowed">
                                    <img src="{% static 'images/fleet-carousel-img3.png' %}" alt="" width="20%"> CNG Allowed
                                    </span></div>
                                 <div class="col-sm-4 noPadding1">
                                    <span class="dieselAllowed">
                                       <img src="{% static 'images/fleet-carousel-img3.png' %}" alt="" width="20%"> Diesel Only</span>
                                 </div>
                                 <div class="col-sm-4 noPadding1">
                                    <span class="electricAllowed">
                                       <img src="{% static 'images/fleet-carousel-img3.png' %}" alt="" width="20%"> Electric Allowed</span>
                                 </div>
                              </div>
                     </h5>
                     <!-- <div style="height: 20px">
                        <hr style="height : 10px">
                     </div> -->
                    {% if ride.ride_status == 'Assigned Car/Driver' or ride.ride_status == 'Ongoing' or ride.ride_status == 'Completed'   %}
                     <div class="col-sm-12 col-md-12" style="padding: 0px;">
                        <div class="heading" style="margin-bottom: 10px;">
                           <h4><span>
                              <img src="{% static 'images/icons/Assignments-inactive.png' %}" alt="" width="5%"> Assigned Car and Driver</span>
                           </h4>
                        </div>
                        <div class="col-sm-6">
                           <div class="col-sm-3"><img class="roundImage" src="{{ ride.final_ride_detail.driver.image.url }}" height="100">
                           </div>
                           <div class="col-sm-9 extra-payment-icons">
                               <h5>Driver Name: &ensp;<span>{{ ride.final_ride_detail.driver.full_name }}</span> </h5>
                               <h5>Phone Number: &ensp;<span> {{ ride.final_ride_detail.driver.contact1 }}</span> </h5>
                               <h5>Rating: &ensp;<span> <span class="fa fa-star checked"></span>
                                 <span class="fa fa-star checked"></span>
                                 <span class="fa fa-star checked"></span>
                                 <span class="fa fa-star"></span>
                                 <span class="fa fa-star"></span></span> </h5>
                                 
                                 <h5 >Ride Start: &ensp;<span class="amount">{{ ride.final_ride_detail.start_datetime|date:"j-M-Y, l" }}{{ ride.final_ride_detail.start_datetime|time:"h:i A" }}</span> </h5>
                                 {% if ride.ride_status == "Completed" %}
                               <h5>
                                    <img src="{% static 'images/icons/Payment-inactive.png' %}" alt="" width="15%">Actual to be Paid<br> 
                                   <div class="col-sm-12"><span class="amount large">{{ ride.final_ride_detail.get_driver_collect_amount }}</span></div>
                                 </h5>
                                     {% endif %}

                           </div>
                        </div>
                        <div class="col-sm-6 extra-payment-icons">
                           <div class="col-sm-4 noPadding1">
                              <img class="roundImage" src="{% static 'images/icons/Payment-inactive.png' %}">
                           </div>
                           <div class="col-sm-8 noPadding1">
                              <h5>Car No: &ensp;<span>{{ ride.final_ride_detail.car.registration_no }}</span> </h5>
                           </div>

                           {% if ride.ride_status == "Completed" %}
                           <div class="col-sm-12">
                               <h5>Ride Finished:<span class="amount">{{ ride.final_ride_detail.end_datetime|date:"j-M-Y, l" }}{{ ride.final_ride_detail.end_datetimesss|time:"h:i A" }}</span> </h5>
                               <h5>Extra KM Charges:<span> {{  ride.final_ride_detail.get_extra_km_price }} INR</span> </h5>
                               <h5>Additional Charges:<span> {{  ride.final_ride_detail.other_charges }} INR</span> </h5>
                           </div>
                           {% endif %}
                          
                        </div>
                        
                     </div>
                        {% else %}
                        <div class="col-sm-12 col-md-12 buttons"  style="padding: 0px;padding-top: 20px;">
                            <div class="col-sm-3 booking-frm">
                                <a onclick="confirmReject('{% url 'customer:cancel_ride' ride.id %}')"><button href="{% url 'customer:cancel_ride' ride.id %}" class="book-btn" type="button" style="background-color: red">Reject</button>
                                    </a>
                            </div>
                        </div>
                  {% endif %}
                  </div>

                       {% if ride.ride_status == 'Completed' %}
                  <div class="booking-frm">
                     <button class="btn btn-block book-btn" style="background-color: #4CAF50;">Pay Online</button>
                     <br>
                     <button class="btn btn-block book-btn" style="background-color: #AC4800;">SOS/Call Customer Care</button>
                  </div>
                       {% endif %}
                  {% endfor %}

                  <!-- <div class="col-sm-12 col-md-12 container2">
                     <div id="products" class="row list-group ">
                        {% for ride in upcoming_rides %}
                        <div class="item  col-xs-4 col-lg-4">
                           <div class="row CardHeader">
                              <div class="col-md-12 col-sm-12">
                                 <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.pickup }}-{{ ride.drop }} </span><span
                                    class="styletext fas fa-map-marker-alt"></span></strong>
                              </div>
                  
                           </div>
                           <div class="row">
                              <div class="col-md-3 col-xs-12">
                                 <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                              </div>
                              <div class="col-md-5 col-xs-12 col-sm-12">
                                 <h4>
                                    {{ ride.name }}
                                 </h4>
                                 <p>
                                    <span class="trip_est">Mobile : {{ ride.phone_no }}</span><br>
                                    <span class="trip_est">Email : {{ request.user.email }}</span><br>
                                    <span class="trip_est">Booked On : {{ ride.booking_datetime }}</span><br>
                                    <span class="trip_est">Pickup Date : {{ ride.pickup_datetime }}</span>
                                 </p>
                              </div>
                              <div class="col-md-4 col-xs-12">
                                 <p>
                                    <strong>Total Amount Paid:&nbsp;&nbsp;<span
                                       class="trip_est styletext">{{ ride.get_advance }}</span></strong><br>
                                    <strong>Credit Used:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.balance_used }}</span></strong><br>
                                    <strong>Advance Payment:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.advance }}</span></strong><br>
                                    <strong>Amount Due:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.amount_due }}</span></strong><br>
                                    <a style="color: green;" href="">Download Invoice</a>
                                 </p>
                              </div>
                           </div>
                           {% comment %}
                           <div class="row">
                              <div class="col-xs-12 col-md-8">
                                 <strong>Cab Number:&nbsp;<span class="trip_est">HR36-KL-2364</span></strong>&nbsp;&nbsp;
                                 <strong>Cartype:&nbsp;<span class="trip_est">Toyota Innova</span></strong>&nbsp;&nbsp;
                                 <strong>Driver:&nbsp;<span class="trip_est">Chetan Rana</span></strong>
                              </div>
                           </div>
                           {% endcomment %}
                        </div>
                        {% empty %}
                        <div style="height: 280px">
                           <h1>You have no upcomming rides.</h1>
                        </div>
                        {% endfor %}
                     </div>
                   
                  </div> -->
               </div>
               <!--////////end of new Booking//////////////  -->
               <!-- //////////start of history//////////// -->
               <div class="tab-pane" id="rideHistory" role="tabpanel">
                  <div class="row">
                     <h4 class="text-center tab-heading">My Booking History</h4>
                  </div>
                  <div class="col-sm-12 col-md-12 container2">
                     <div id="products" class="row list-group ">
                            {% comment %}
                            <div class="item  col-xs-4 col-lg-4">
                               <div class="row CardHeader">
                                  <div class="col-md-12 col-sm-12">
                                     <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">SSR International
                                     Airport, Mauritius </span><span
                                        class="styletext fas fa-map-marker-alt"></span></strong>
                                  </div>
                               </div>
                               <div class="row">
                                  <div class="col-md-3 col-xs-12">
                                     <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                                  </div>
                                  <div class="col-md-5 col-xs-12 col-sm-12">
                                     <h4>
                                        Avishek
                                     </h4>
                                     <p>
                                        <span class="trip_est">Mobile : 5678203848</span><br>
                                        <span class="trip_est">Email : avi@gmail.com </span><br>
                                        <span class="trip_est">Booked On : 30/09/2022,10:00 AM </span><br>
                                        <span class="trip_est">Pickup Date : 2/10/2022 12:00 PM</span>
                                     </p>
                                  </div>
                                  <div class="col-md-4 col-xs-12">
                                     <p>
                                        <strong>Total Amount Paid:&nbsp;&nbsp;<span
                                           class="trip_est styletext">1700.50</span></strong><br>
                                        <strong>Credit Used:&nbsp;&nbsp;<span
                                           class="trip_est styletext">3000.00</span></strong><br>
                                        <strong>Advance Payment:&nbsp;&nbsp;<span
                                           class="trip_est styletext">1000.00</span></strong><br>
                                        <strong>Amount Due:&nbsp;&nbsp;<span
                                           class="trip_est styletext">2000.00</span></strong><br>
                                        <a style="color: green;" href="">Download Invoice</a>
                                     </p>
                                  </div>
                               </div>
                               <div class="row">
                                  <div class="col-xs-12 col-md-8">
                                     <strong>Cab Number:&nbsp;<span class="trip_est">Avi-2001</span></strong>&nbsp;&nbsp;
                                     <strong>Cartype:&nbsp;<span class="trip_est">Toyota Axio</span></strong>&nbsp;&nbsp;
                                     <strong>Driver:&nbsp;<span class="trip_est">avi</span></strong>
                                  </div>
                               </div>
                               <div class="row CardFooter">
                                  <div class=" col-sm-4">
                                     <strong>Review</strong>&nbsp;&nbsp;<span class="trip_est">
                                     <span class="fa fa-star checked styletext"></span>
                                     <span class="fa fa-star checked styletext"></span>
                                     <span class="fa fa-star checked styletext"></span>
                                     <span class="fa fa-star styletext"></span>
                                     <span class="fa fa-star styletext"></span></span>
                                  </div>
                                  <div class=" col-sm-8" style="text-align: right;">
                                     <strong>Feedback</strong>&nbsp;&nbsp;Test feedback
                                     <button type="button" class="btn btn-info " value="1211" data-toggle="modal" data-target="#myModal" onclick="passRide(this.value)">Give Feedback</button>
                                  </div>
                               </div>
                            </div>
                            <div class="item  col-xs-4 col-lg-4">
                               <div class="row CardHeader">
                                  <div class="col-md-12 col-sm-12">
                                     <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">Rempart
                                      </span><span
                                        class="styletext fas fa-map-marker-alt"></span></strong>
                                  </div>
                               </div>
                               <div class="row">
                                  <div class="col-md-3 col-xs-12">
                                     <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                                  </div>
                                  <div class="col-md-5 col-xs-12 col-sm-12">
                                     <h4>
                                        Prakash Ponia
                                     </h4>
                                     <p>
                                        <span class="trip_est">Mobile : 5709348830</span><br>
                                        <span class="trip_est">Email : avi@gmail.com </span><br>
                                        <span class="trip_est">Booked On : 04/10/2022,10:00 AM </span><br>
                                        <span class="trip_est">Pickup Date : 04/10/2022 12:00 PM</span>
                                     </p>
                                  </div>
                                  <div class="col-md-4 col-xs-12">
                                     <p>
                                        <strong>Total Amount Paid:&nbsp;&nbsp;<span
                                           class="trip_est styletext">1700.50</span></strong><br>
                                        <strong>Credit Used:&nbsp;&nbsp;<span
                                           class="trip_est styletext">3000.00</span></strong><br>
                                        <strong>Advance Payment:&nbsp;&nbsp;<span
                                           class="trip_est styletext">1000.00</span></strong><br>
                                        <strong>Amount Due:&nbsp;&nbsp;<span
                                           class="trip_est styletext">2000.00</span></strong><br>
                                        <a style="color: green;" href="">Download Invoice</a>
                                     </p>
                                  </div>
                               </div>
                               <div class="row">
                                  <div class="col-xs-12 col-md-8">
                                     <strong>Cab Number:&nbsp;<span class="trip_est">HR36-KL-2364</span></strong>&nbsp;&nbsp;
                                     <strong>Cartype:&nbsp;<span class="trip_est">Toyota Innova</span></strong>&nbsp;&nbsp;
                                     <strong>Driver:&nbsp;<span class="trip_est">Chetan Rana</span></strong>
                                  </div>
                               </div>
                               <div class="row CardFooter">
                                  <div class="col-xs-6 col-md-4 col-sm-4">
                                     <strong>Review</strong>&nbsp;&nbsp;<span class="trip_est">
                                     <span class="fa fa-star checked styletext"></span>
                                     <span class="fa fa-star checked styletext"></span>
                                     <span class="fa fa-star checked styletext"></span>
                                     <span class="fa fa-star styletext"></span>
                                     <span class="fa fa-star styletext"></span></span>
                                  </div>
                                  <div class="col-md-8 col-xs-6 col-sm-8" style="text-align: right;">
                                     <strong>Feedback</strong>&nbsp;&nbsp;Test feedback
                                     <!--  <button type="button" class="btn btn-info " value="1211" data-toggle="modal" data-target="#myModal" onclick="passRide(this.value)">Give Feedback</button> -->
                                  </div>
                               </div>
                            </div>
                            <div class="item  col-xs-4 col-lg-4">
                               <div class="row CardHeader">
                                  <div class="col-md-12 col-sm-12">
                                     <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">Indira Gandhi International
                                     Airport(del.), Delhi-Agra </span><span
                                        class="styletext fas fa-map-marker-alt"></span></strong>
                                  </div>
                               </div>
                               <div class="row">
                                  <div class="col-md-3 col-xs-12">
                                     <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                                  </div>
                                  <div class="col-md-5 col-xs-12 col-sm-12">
                                     <h4>
                                        Prakash Ponia
                                     </h4>
                                     <p>
                                        <span class="trip_est">Mobile : 8213133322</span><br>
                                        <span class="trip_est">Email : Poniaprakash@gmail.com </span><br>
                                        <span class="trip_est">Booked On : 01/12/2019,10:00 AM </span><br>
                                        <span class="trip_est">Pickup Date : 19/02/2020 12:00 PM</span>
                                     </p>
                                  </div>
                                  <div class="col-md-4 col-xs-12">
                                     <p>
                                        <strong>Total Amount Paid:&nbsp;&nbsp;<span
                                           class="trip_est styletext">1700.50</span></strong><br>
                                        <strong>Credit Used:&nbsp;&nbsp;<span
                                           class="trip_est styletext">3000.00</span></strong><br>
                                        <strong>Advance Payment:&nbsp;&nbsp;<span
                                           class="trip_est styletext">1000.00</span></strong><br>
                                        <strong>Amount Due:&nbsp;&nbsp;<span
                                           class="trip_est styletext">2000.00</span></strong><br>
                                        <a style="color: green;" href="">Download Invoice</a>
                                     </p>
                                  </div>
                               </div>
                               <div class="row">
                                  <div class="col-xs-12 col-md-8">
                                     <strong>Cab Number:&nbsp;<span class="trip_est">HR36-KL-2364</span></strong>&nbsp;&nbsp;
                                     <strong>Cartype:&nbsp;<span class="trip_est">Toyota Innova</span></strong>&nbsp;&nbsp;
                                     <strong>Driver:&nbsp;<span class="trip_est">Chetan Rana</span></strong>
                                  </div>
                               </div>
                               <div class="row CardFooter">
                                  <div class="col-xs-6 col-md-4 col-sm-4">
                                     <div class="rating-box">
                                        <div class="rating-container">
                                           <input type="radio" name="rating" value="5" id="star-5"readonly> <label for="star-5">&#9733;</label>
                                           <input type="radio" name="rating" value="4" id="star-4" checked="false" readonly> <label for="star-4">&#9733;</label>
                                           <input type="radio" name="rating" value="3" id="star-3" checked="true" readonly> <label for="star-3">&#9733;</label>
                                           <input type="radio" name="rating" value="2" id="star-2" checked="true" readonly> <label for="star-2">&#9733;</label>
                                           <input type="radio" name="rating" value="1" id="star-1" checked="true" readonly> <label for="star-1">&#9733;</label>
                                           <strong>Review</strong>
                                        </div>
                                     </div>
                                  </div>
                                  <div class="col-md-8 col-xs-6 col-sm-8" style="text-align: right;">
                                     <!-- <strong>Feedback</strong>&nbsp;&nbsp;Test feedback -->
                                     <button type="button" class="btn btn-info " value="1211" data-toggle="modal" data-target="#myModal" onclick="passRide(this.value)">Give Feedback</button>
                                  </div>
                               </div>
                            </div>
                            {% endcomment %}


                        {% for ride in completed_rides %}
                            {% if ride.final_ride_detail.rating %}
                            <div class="item  col-xs-4 col-lg-4">
                               <div class="row CardHeader">
                                  <div class="col-md-12 col-sm-12">

                                     <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.pickup }} - {{ ride.drop }} </span><span
                                        class="styletext fas fa-map-marker-alt"></span></strong>
                                  </div>
                               </div>
                               <div class="row">
                                  <div class="col-md-3 col-xs-12">
                                     <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                                  </div>
                                  <div class="col-md-5 col-xs-12 col-sm-12">
                                     <h4>
                                         {{ ride.name }}
                                     </h4>
                                     <p>
                                        <span class="trip_est">Mobile : {{ ride.phone_no }}</span><br>
                                        <span class="trip_est">Email : {{ ride.user.email }}</span><br>
                                        <span class="trip_est">Booked On : {{ ride.booking_datetime|date:"j-M-Y" }}{{ ride.booking_datetime|time:"h:i A" }}</span><br>
                                        <span class="trip_est">Pickup Date : {{ ride.pickup_datetime|date:"j-M-Y" }}{{ ride.pickup_datetime|time:"h:i A" }}</span>
                                     </p>
                                  </div>
                                  <div class="col-md-4 col-xs-12">
                                     <p>
                                        <strong>Total Amount Paid:&nbsp;&nbsp;<span
                                           class="trip_est styletext">{{ ride.final_ride_fare }}</span></strong><br>
                                        <strong>Credit Used:&nbsp;&nbsp;<span
                                           class="trip_est styletext">{{ ride.balance_used }}</span></strong><br>
                                        <strong>Advance Payment:&nbsp;&nbsp;<span
                                           class="trip_est styletext">{{ ride.advance }}</span></strong><br>
                                        <strong>Amount Due:&nbsp;&nbsp;<span
                                           class="trip_est styletext">{{ ride.amount_due }}</span></strong><br>
                                        <a style="color: green;" href="">Download Invoice</a>
                                     </p>
                                  </div>
                               </div>
                               <div class="row">
                                  <div class="col-xs-12 col-md-8">
                                     <strong>Cab Number:&nbsp;<span class="trip_est">{{ ride.final_ride_detail.car.registration_no }}</span></strong>&nbsp;&nbsp;
                                     <strong>Cartype:&nbsp;<span class="trip_est">{{ ride.final_ride_detail.car.car_type }}</span></strong>&nbsp;&nbsp;
                                     <strong>Driver:&nbsp;<span class="trip_est">{{ ride.final_ride_detail.driver.full_name }}</span></strong>
                                  </div>
                               </div>
                               <div class="row CardFooter">
                                  <div class="col-xs-6 col-md-4 col-sm-4">
                                     <strong>Review</strong>&nbsp;&nbsp;<span class="trip_est">
                                      {% for i in ride.final_ride_detail.get_rating_list %}
                                         <span class="fa fa-star checked styletext"></span>
                                      {% endfor %}
                                      {% for i in ride.final_ride_detail.remaining_rating %}
                                         <span class="fa fa-star styletext"></span>
                                      {% endfor %}
                                  </span>
                                  </div>
                                  <div class="col-md-8 col-xs-6 col-sm-8" style="text-align: right;">
                                     <strong>Feedback</strong>&nbsp;&nbsp;{{ ride.final_ride_detail.review }}
                                     <!--  <button type="button" class="btn btn-info " value="1211" data-toggle="modal" data-target="#myModal" onclick="passRide(this.value)">Give Feedback</button> -->
                                  </div>
                               </div>
                            </div>
                            {% else %}
                            <div class="item  col-xs-4 col-lg-4">
                               <div class="row CardHeader">
                                  <div class="col-md-12 col-sm-12">
                                     <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.pickup }} - {{ ride.drop }} </span><span
                                        class="styletext fas fa-map-marker-alt"></span></strong>
                                  </div>
                               </div>
                               <div class="row">
                                  <div class="col-md-3 col-xs-12">
                                     <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                                  </div>
                                  <div class="col-md-5 col-xs-12 col-sm-12">
                                     <h4>
                                         {{ ride.name }}
                                     </h4>
                                     <p>
                                        <span class="trip_est">Mobile : {{ ride.phone_no }}</span><br>
                                        <span class="trip_est">Email : {{ ride.user.email }}</span><br>
                                        <span class="trip_est">Booked On : {{ ride.booking_datetime|date:"j-M-Y" }}{{ ride.booking_datetime|time:"h:i A" }}</span><br>
                                        <span class="trip_est">Pickup Date : {{ ride.pickup_datetime|date:"j-M-Y" }}{{ ride.pickup_datetime|time:"h:i A" }}</span>
                                     </p>
                                  </div>
                                  <div class="col-md-4 col-xs-12">
                                     <p>
                                        <strong>Total Amount Paid:&nbsp;&nbsp;<span
                                           class="trip_est styletext">{{ ride.final_ride_detail.get_final_ride_charges }}</span></strong><br>
                                        <strong>Credit Used:&nbsp;&nbsp;<span
                                           class="trip_est styletext">{{ ride.balance_used }}</span></strong><br>
                                        <strong>Advance Payment:&nbsp;&nbsp;<span
                                           class="trip_est styletext">{{ ride.advance }}</span></strong><br>
                                        <strong>Amount Due:&nbsp;&nbsp;<span
                                           class="trip_est styletext">{{ ride.final_ride_detail.get_amount_due }}</span></strong><br>
                                        <a style="color: green;" href="">Download Invoice</a>
                                     </p>
                                  </div>
                               </div>
                               <div class="row">
                                  <div class="col-xs-12 col-md-8">
                                     <strong>Cab Number:&nbsp;<span class="trip_est">{{ ride.final_ride_detail.car.registration_no }}</span></strong>&nbsp;&nbsp;
                                     <strong>Cartype:&nbsp;<span class="trip_est">{{ ride.final_ride_detail.car.car_type }}</span></strong>&nbsp;&nbsp;
                                     <strong>Driver:&nbsp;<span class="trip_est">{{ ride.final_ride_detail.driver.full_name }}</span></strong>
                                  </div>
                               </div>
                               <div class="row CardFooter">
                                  <div class="col-md-8 col-xs-6 col-sm-8" style="text-align: right;">
                                     <button type="button" class="btn btn-info " value="1211" data-toggle="modal" data-target="#myModal" onclick="passRide(this.value)">Give Feedback</button>
                                  </div>
                               </div>
                            </div>
                            {% endif %}
                        {% empty %}
                        <div style="height: 280px">
                           <h1>You have no booking history.</h1>
                        </div>
                        {% endfor %}
                        {% comment %}
                        <div class="list" id="list"></div>
                        <div style="float: right; margin-top: 10px; margin-bottom: 10px;">
                           <span class="pagenumbers" >
                           <button id="prevButton" style="background-color: #ffc000;"> << </button>
                           </span>
                           <span class="pagenumbers" id="pagination">
                           </span>
                           <span class="pagenumbers">
                           <button id="nextButton"  style="background-color: #ffc000;"> >> </button>
                           </span>
                        </div>
                        <div class="containe-pagination">
                           <div class="tab-content">
                              <div id="1" class="tab-pane active" role="tabpanel">
                                 <div class="item-pagination">
                                    <div class="item  col-xs-4 col-lg-4">
                                       <div class="row CardHeader">
                                          <div class="col-xs-8 col-md-8 col-sm-8">
                                             <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">Indira Gandhi International
                                             Airport(del.), Delhi-Agra </span><span
                                                class="styletext fas fa-map-marker-alt"></span></strong>
                                          </div>
                                          <div class="col-md-4 col-xs-4 col-sm-4">
                                             <strong>Review</strong>&nbsp;&nbsp;<span class="trip_est">
                                             <span class="fa fa-star checked styletext"></span>
                                             <span class="fa fa-star checked styletext"></span>
                                             <span class="fa fa-star checked styletext"></span>
                                             <span class="fa fa-star styletext"></span>
                                             <span class="fa fa-star styletext"></span></span>
                                          </div>
                                       </div>
                                       <div class="row">
                                          <div class="col-md-3 col-xs-12">
                                             <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                                          </div>
                                          <div class="col-md-5 col-xs-12 col-sm-12">
                                             <h4>
                                                Prakash Ponia
                                             </h4>
                                             <p>
                                                <span class="trip_est">Mobile : 8213133322</span><br>
                                                <span class="trip_est">Email : Poniaprakash@gmail.com </span><br>
                                                <span class="trip_est">Booked On : 01/12/2019,10:00 AM </span><br>
                                                <span class="trip_est">Pickup Date : 19/02/2020 12:00 PM</span>
                                             </p>
                                          </div>
                                          <div class="col-md-4 col-xs-12">
                                             <p>
                                                <strong>Total Amount Paid:&nbsp;&nbsp;<span
                                                   class="trip_est styletext">1700.50</span></strong><br>
                                                <strong>Credit Used:&nbsp;&nbsp;<span
                                                   class="trip_est styletext">3000.00</span></strong><br>
                                                <strong>Advance Payment:&nbsp;&nbsp;<span
                                                   class="trip_est styletext">1000.00</span></strong><br>
                                                <strong>Amount Due:&nbsp;&nbsp;<span
                                                   class="trip_est styletext">2000.00</span></strong><br>
                                                <a style="color: green;" href="">Download Invoice</a>
                                             </p>
                                          </div>
                                       </div>
                                       <div class="row">
                                          <div class="col-xs-12 col-md-8">
                                             <strong>Cab Number:&nbsp;<span class="trip_est">HR36-KL-2364</span></strong>&nbsp;&nbsp;
                                             <strong>Cartype:&nbsp;<span class="trip_est">Toyota Innova</span></strong>&nbsp;&nbsp;
                                             <strong>Driver:&nbsp;<span class="trip_est">Chetan Rana</span></strong>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <div id="2" class="tab-pane" role="tabpanel">
                                 <div class="item-pagination">
                                    <div class="item  col-xs-4 col-lg-4">
                                       <div class="row CardHeader">
                                          <div class="col-xs-8 col-md-8 col-sm-8">
                                             <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">Indira Gandhi International
                                             Airport(del.), Delhi-Agra </span><span
                                                class="styletext fas fa-map-marker-alt"></span></strong>
                                          </div>
                                          <div class="col-md-4 col-xs-4 col-sm-4">
                                             <strong>Review</strong>&nbsp;&nbsp;<span class="trip_est">
                                             <span class="fa fa-star checked styletext"></span>
                                             <span class="fa fa-star checked styletext"></span>
                                             <span class="fa fa-star checked styletext"></span>
                                             <span class="fa fa-star styletext"></span>
                                             <span class="fa fa-star styletext"></span></span>
                                          </div>
                                       </div>
                                       <div class="row">
                                          <div class="col-md-3 col-xs-12">
                                             <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                                          </div>
                                          <div class="col-md-5 col-xs-12 col-sm-12">
                                             <h4>
                                                Ravi Jain
                                             </h4>
                                             <p>
                                                <span class="trip_est">Mobile : 8213133322</span><br>
                                                <span class="trip_est">Email : Poniaprakash@gmail.com </span><br>
                                                <span class="trip_est">Booked On : 01/12/2019,10:00 AM </span><br>
                                                <span class="trip_est">Pickup Date : 19/02/2020 12:00 PM</span>
                                             </p>
                                          </div>
                                          <div class="col-md-4 col-xs-12">
                                             <p>
                                                <strong>Total Amount Paid:&nbsp;&nbsp;<span
                                                   class="trip_est styletext">1700.50</span></strong><br>
                                                <strong>Credit Used:&nbsp;&nbsp;<span
                                                   class="trip_est styletext">3000.00</span></strong><br>
                                                <strong>Advance Payment:&nbsp;&nbsp;<span
                                                   class="trip_est styletext">1000.00</span></strong><br>
                                                <strong>Amount Due:&nbsp;&nbsp;<span
                                                   class="trip_est styletext">2000.00</span></strong><br>
                                                <a style="color: green;" href="">Download Invoice</a>
                                             </p>
                                          </div>
                                       </div>
                                       <div class="row">
                                          <div class="col-xs-12 col-md-8">
                                             <strong>Cab Number:&nbsp;<span class="trip_est">HR36-KL-2364</span></strong>&nbsp;&nbsp;
                                             <strong>Cartype:&nbsp;<span class="trip_est">Toyota Innova</span></strong>&nbsp;&nbsp;
                                             <strong>Driver:&nbsp;<span class="trip_est">Chetan Rana</span></strong>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <ul class="pagination">
                              <li><a href="#">&laquo;</a></li>
                              <li class="active"> <a data-toggle="tab" href="#1">1</a></li>
                              <li> <a class="" data-toggle="tab" href="#2">2</a></li>
                              <li><a href="#">3</a></li>
                              <li> <a href="#">4</a></li>
                              <li> <a href="#">5</a></li>
                              <li> <a href="#">6</a></li>
                              <li> <a href="#">&raquo;</a></li>
                           </ul>
                        </div>
                        {% endcomment %}
                     </div>
                     <!-- </div> -->
                  </div>
               </div>
               <!-- /////////////////end of history//////////////////// -->
               <div class="tab-pane" id="incompleteRides" role="tabpanel">
                  <div class="row">
                     <h4 class="text-center tab-heading">Incomplete Bookings</h4>
                     <br>
                  </div>
                  <div class="col-sm-12 col-md-12 container2">
                     <div id="products" class="row list-group ">
                        {% for ride in incomplete_rides %}
                        <div class="item  col-xs-4 col-lg-4">
                           <div class="row CardHeader">
                              <div class="col-xs-8 col-md-8 col-sm-8">
                                 <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.pickup }}-{{ ride.drop }} </span><span
                                    class="styletext fas fa-map-marker-alt"></span></strong>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-md-3 col-xs-12">
                                 <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                              </div>
                              <div class="col-md-5 col-xs-12 col-sm-12">
                                 <h4>
                                    {{ ride.name }}
                                 </h4>
                                 <p>
                                    <span class="trip_est">Mobile : {{ ride.phone_no }}</span><br>
                                    <span class="trip_est">Email : {{ request.user.email }}</span><br>
                                    <span class="trip_est">Booked On : {{ ride.booking_datetime }}</span><br>
                                    <span class="trip_est">Pickup Date : {{ ride.pickup_datetime }}</span>
                                 </p>
                              </div>
                              <div class="col-md-4 col-xs-12">
                                 <p>
                                    <strong>Total Amount:&nbsp;&nbsp;<span
                                       class="trip_est styletext">{{ ride.final_ride_fare|floatformat }}</span></strong><br>
                                    <strong>Credit Used:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.balance_used|floatformat }}</span></strong><br>
                                    <strong>Advance Payment:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.advance|floatformat }}</span></strong><br>
                                    <strong>Amount Due:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.amount_due|floatformat }}</span></strong><br>
                                    {#<a style="color: green;" href="">Proceed to Payment</a>#}
                                 </p>
                                   <div class="col-sm-12 col-md-12 buttons">
                                    <div class="col-sm-3 booking-frm">
                                        <a href="{% url 'customer:complete_payment' ride.id %}"><button href="{% url 'customer:cancel_ride' ride.id %}" class="book-btn" type="button" style="background-color: green;">Proceed to Pay <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></button>
                                    </a>
                            </div></div>
                              </div>

{#                               <button class="book-btn" type="submit" style="font-weight: 700;">Proceed To Pay &nbsp;<i class="fa fa-arrow-circle-right" aria-hidden="true"></i></button>#}
                           </div>
                           {% comment %}
                           <div class="row">
                              <div class="col-xs-12 col-md-8">
                                 <strong>Cab Number:&nbsp;<span class="trip_est">HR36-KL-2364</span></strong>&nbsp;&nbsp;
                                 <strong>Cartype:&nbsp;<span class="trip_est">Toyota Innova</span></strong>&nbsp;&nbsp;
                                 <strong>Driver:&nbsp;<span class="trip_est">Chetan Rana</span></strong>
                              </div>
                           </div>
                           {% endcomment %}
                        </div>
                        {% empty %}
                        <div style="height: 280px">
                           <h1>You have no Incomplete rides.</h1>
                        </div>
                        {% endfor %}
                     </div>
                  </div>
               </div>
               <!--////////////////// End of Cancel Ride ////////////// -->

                <!-- /////////////////end of history//////////////////// -->
               <div class="tab-pane" id="canceledRides" role="tabpanel">
                  <div class="row">
                     <h4 class="text-center tab-heading">Cancelled Bookings</h4>
                     <br>
                  </div>
                  <div class="col-sm-12 col-md-12 container2">
                     <div id="products" class="row list-group ">
                        {% for ride in cancelled_rides %}
                        <div class="item  col-xs-4 col-lg-4">
                           <div class="row CardHeader">
                              <div class="col-xs-8 col-md-8 col-sm-8">
                                 <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.pickup }}-{{ ride.drop }} </span><span
                                    class="styletext fas fa-map-marker-alt"></span></strong>
                              </div>
                           </div>
                           <div class="row">
                              <div class="col-md-3 col-xs-12">
                                 <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                              </div>
                              <div class="col-md-5 col-xs-12 col-sm-12">
                                 <h4>
                                    {{ ride.name }}
                                 </h4>
                                 <p>
                                    <span class="trip_est">Mobile : {{ ride.phone_no }}</span><br>
                                    <span class="trip_est">Email : {{ request.user.email }}</span><br>
                                    <span class="trip_est">Booked On : {{ ride.booking_datetime }}</span><br>
                                    <span class="trip_est">Pickup Date : {{ ride.pickup_datetime }}</span>
                                 </p>
                              </div>
                              <div class="col-md-4 col-xs-12">
                                 <p>
                                    <strong>Total Amount:&nbsp;&nbsp;<span
                                       class="trip_est styletext">{{ ride.final_ride_fare|floatformat }}</span></strong><br>
                                    <strong>Credit Used:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.balance_used|floatformat }}</span></strong><br>
                                    <strong>Advance Payment:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.advance|floatformat }}</span></strong><br>
                                    <strong>Amount Due:&nbsp;&nbsp;<span class="trip_est styletext">{{ ride.amount_due|floatformat }}</span></strong><br>
                                    {#<a style="color: green;" href="">Proceed to Payment</a>#}
                                 </p>
                              </div>
                           </div>
                           {% comment %}
                           <div class="row">
                              <div class="col-xs-12 col-md-8">
                                 <strong>Cab Number:&nbsp;<span class="trip_est">HR36-KL-2364</span></strong>&nbsp;&nbsp;
                                 <strong>Cartype:&nbsp;<span class="trip_est">Toyota Innova</span></strong>&nbsp;&nbsp;
                                 <strong>Driver:&nbsp;<span class="trip_est">Chetan Rana</span></strong>
                              </div>
                           </div>
                           {% endcomment %}
                        </div>
                        {% empty %}
                        <div style="height: 280px">
                           <h1>You have no cancelled rides.</h1>
                        </div>
                        {% endfor %}
                     </div>
                  </div>
               </div>
               <!--////////////////// End of Cancel Ride ////////////// -->


               <!-- //////////start of Reffer a friend//////////////////// -->
               <div class="tab-pane" id="referFriend" role="tabpanel">
                  <h4 class="text-center tab-heading">Refer a friend</h4>
                  <br>
                  <div class="col-sm-12 col-md-12 col-lg-12">
                  </div>
                  <div class="col-sm-12 col-md-12 col-lg-12" style="border-bottom: silver solid 2px;padding: 25px ">
                     <div class="col-sm-4" style="padding-bottom: 10px">&nbsp;&nbsp;
                        <a href="https://wa.me/?text=Try%20this%20awesome%20ride%20with%20Taxotaxi" ><button class="btn btn-default" style="color: #2cb930;font-weight: bolder;"><i class="fab fa-whatsapp"></i>&nbsp;Reffer on whatsapp</button></a>
                     </div>
                     <div class="col-sm-4" style="padding-bottom: 10px">&nbsp;&nbsp;
                        <a href="mailto:?subject=friend invitation&body=Hi friend please try this awesome platfoam to plan your trip /" ><button class="btn btn-default" style="color: #1971bf;font-weight: bolder;"><i class="far fa-envelope"></i>&nbsp;Reffer on Email</button></a>&nbsp;&nbsp;
                     </div>
                     <div class="col-sm-4" style="padding-bottom: 10px">&nbsp;&nbsp;
                        <a href="sms:?body=Try%20new%20awesome%20platfoam%20Taxotaxi%20for%20awesome%20ride%20experience%20/" ><button class="btn btn-default" style="color: #f7df24;font-weight: bolder;"><i class="far fa-comment"></i>&nbsp;Reffer on Message</button></a>
                     </div>
                  </div>
               </div>
               <div class="modal fade" id="myModal" role="dialog">
                  <div class="modal-dialog">
                     <!-- Modal content-->
                     <div class="modal-content">
                        <div class="modal-header">
                           <button type="button" class="close" data-dismiss="modal">&times;</button>
                           <input type="hidden" name="modelid" id="ridemodalvalue">
                           <h4 class="modal-title">Kindly share your experience:</h4>
                        </div>
                        <div class="modal-body">
                           <p>Online booking with our platform was easy ? 
                              <span style="float: right;">
                              <input type="radio" name="yes_no1" checked>Yes</input>
                              <input type="radio" name="yes_no1">No</input></span>
                           </p>
                           <p>Did you timely receive all details about booking?
                              <span style="float: right;"> 
                              <input type="radio" name="yes_no2" checked>Yes</input>
                              <input type="radio" name="yes_no2">No</input></span>
                           </p>
                           <p>Driver's behavior was good throughout journey? 
                              <span style="float: right;"> 
                              <input type="radio" name="yes_no3" checked>Yes</input>
                              <input type="radio" name="yes_no3">No</input></span>
                           </p>
                           <p>You are happy with the car provided ? 
                              <span style="float: right;">
                              <input type="radio" name="yes_no4" checked>Yes</input>
                              <input type="radio" name="yes_no4">No</input></span>
                           </p>
                           <p>You are satisfied with the service offered to you?
                              <span style="float: right;"><input type="radio" name="yes_no5" checked>Yes</input>
                              <input type="radio" name="yes_no5">No</input></span>
                           </p>
                           <p>Would you recommend us to your family and friends for future rides?&
                              <span style="float: right;">
                              <input type="radio" name="yes_no6" checked>Yes</input>
                              <input type="radio" name="yes_no6">No</input></span>
                           </p>
                        </div>
                        <div class="modal-footer">
                           <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                     </div>
                  </div>
               </div>
               <!--/////////////end of your reffer your friends///////////  -->
               <div class="tab-pane" id="settings" role="tabpanel">jjjjjjjjjjj</div>
            </div>
         </div>
      </div>
   </div>
</div>
{% endblock content %}
<script type="text/javascript">
   function initMap() {
     var directionsService = new google.maps.DirectionsService;
     var directionsRenderer = new google.maps.DirectionsRenderer;
     var map = new google.maps.Map(document.getElementById('map'), {
       zoom: 6,
       center: {
         lat: 41.85,
         lng: -87.65
       }
     });
     directionsRenderer.setMap(map);
   
     document.getElementById('submit').addEventListener('click', function () {
       calculateAndDisplayRoute(directionsService, directionsRenderer);
     });
   }
   
   function calculateAndDisplayRoute(directionsService, directionsRenderer) {
     var waypts = [];
   
     directionsService.route({
       origin: document.getElementById('start').value,
       destination: document.getElementById('end').value,
       waypoints: waypts,
       optimizeWaypoints: true,
       travelMode: 'DRIVING'
     }, function (response, status) {
       if (status === 'OK') {
         directionsRenderer.setDirections(response);
         var route = response.routes[0];
         var summaryPanel = document.getElementById('directions-panel');
         summaryPanel.innerHTML = '';
         // For each route, display summary information.
         for (var i = 0; i < route.legs.length; i++) {
           var routeSegment = i + 1;
           summaryPanel.innerHTML += '<b>Route Segment: ' + routeSegment +
             '</b><br>';
           summaryPanel.innerHTML += route.legs[i].start_address + ' to ';
           summaryPanel.innerHTML += route.legs[i].end_address + '<br>';
           summaryPanel.innerHTML += route.legs[i].distance.text + '<br><br>';
         }
       } else {
         window.alert('Directions request failed due to ' + status);
       }
     });
   }
</script>
{% block extra_scripts %}
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
<script type="text/javascript">
   $(document).ready(function () {
     $('#products .item').addClass('list-group-item');
     $('#list').click(function (event) {
       event.preventDefault();
       $('#products .item').addClass('list-group-item');
     });
     // $('#grid').click(function(event){event.preventDefault();$('#products .item').removeClass('list-group-item');$('#products .item').addClass('grid-group-item');});
   });
</script>
<script type="text/javascript">
   function passRide(val){
         document.getElementById('ridemodalvalue').value = val;
         console.log(val);
          rideID=val;
     }
     
   
     $(document).ready(function () {
       $('.input-file').change(function () {
         $('.p23').text(this.files.length + " file(s) selected");
       });
     });
     function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#blah').attr('src', e.target.result);
                    $('#blah').css("width","auto");
                    $('#blah').css("height","inherit");
                    $('#blah').css("border-radius","10px");
                    $('.p23').css("height","auto");
                };

                reader.readAsDataURL(input.files[0]);
            }
        }
</script>
<script type="text/javascript">
   $(function () {
       $("#password1").bind("keyup", function () {
           //TextBox left blank.
           if ($(this).val().length == 0) {
               $("#password_strength").html("");
               return;
           }
   
           //Regular Expressions.
           var regex = new Array();
           regex.push("[A-Z]"); //Uppercase Alphabet.
           regex.push("[a-z]"); //Lowercase Alphabet.
           regex.push("[0-9]"); //Digit.
           regex.push("[$@$!%*#?&]"); //Special Character.
   
           var passed = 0;
   
           //Validate for each Regular Expression.
           for (var i = 0; i < regex.length; i++) {
               if (new RegExp(regex[i]).test($(this).val())) {
                   passed++;
               }
           }
   
   
           //Validate for length of Password.
           if (passed > 2 && $(this).val().length > 8) {
               passed++;
           }
           console.log(passed)
           //Display status.
           var color = "";
           var strength = "";
           switch (passed) {
               case 0:
               case 1:
                   strength = "Weak";
                   color = "red";
                   break;
               case 2:
                   strength = "Good";
                   color = "darkorange";
                   break;
               case 3:
               case 4:
                   strength = "Strong";
                   color = "green";
                   break;
               case 5:
                   strength = "Very Strong";
                   color = "darkgreen";
                   break;
           }
           $("#password_strength").html(strength);
           $("#password_strength").css("color", color);
       });
   });
</script>
<script>
   //code for copy input button for referral 
   function copyFunction() {
   var copyText = document.getElementById("refferral-input");
   copyText.select();
   copyText.setSelectionRange(0, 99999);
   document.execCommand("copy");
   
   var tooltip = document.getElementById("myTooltip");
   tooltip.innerHTML = "Copied: " + copyText.value;
   }
   
   function outFunc() {
   var tooltip = document.getElementById("myTooltip");
   tooltip.innerHTML = "Copy to clipboard";
   }
   
   
   var valueHover = 0;
   function calcSliderPos(e,maxV) {
         return (e.offsetX / e.target.clientWidth) *  parseInt(maxV,10);
     }
     
   $(".starrate").on("click",function(){
     $(this).data('val',valueHover);
     $(this).addClass('saved')
     });
     
   $(".starrate").on("mouseout",function(){
     upStars($(this).data('val'));
     }); 
   
     
   $(".starrate span.ctrl").on("mousemove",function(e) { 
     var maxV = parseInt($(this).parent("div").data('max'))
     valueHover = Math.ceil(calcSliderPos(e,maxV)*2)/2;
     upStars(valueHover);
     });
   
   
   function upStars(val) {
   
   var val = parseFloat(val);
   $("#test").html( val.toFixed(1) );
   
   var full = Number.isInteger(val);
   val = parseInt(val);
   var stars = $("#starrate i");
   
   stars.slice(0,val).attr("class" , "fas fa-fw fa-star" );
   if(!full)  { stars.slice(val,val+1).attr("class" , "fas fa-fw fa-star-half-alt" ); val++ }
   stars.slice(val,5).attr("class" , "far fa-fw fa-star" );  
   }  
     $(document).ready(function() {
     $(".starrate span.ctrl").width($(".starrate span.cont").width());
     $(".starrate span.ctrl").height($(".starrate span.cont").height());
     });
</script>
<script>
   $('#my-button').click(function(){
     $('#my-file').click();
   });
</script>
<script>
   function remove1(req){
     const PasswordConfirm = document.getElementById('password2');
     PasswordConfirm.classList = "form-text";
   
   }
   function remove2(req){
     const Password = document.getElementById('password');
     Password.classList = "form-text";
   
   }
   
   const password = document.getElementById('password1')
   const Password = document.getElementById('password');
   const passwordConfirm = document.getElementById('passwordConfirm1');
   const PasswordConfirm = document.getElementById('password2');
   const button = document.getElementById('button1');
   
   
   //////show Error message/////
   function showError(input,input1,message){
       input.className = "fail";
       input1.innerHTML = message
       input1.className = "fail2"
   }
   
   button.addEventListener('click', function(e){
       e.preventDefault();
   
   
   
   
   if(password.value.trim() === ""){
       showError(password, Password,'Please enter a password');
   }
   else if(password.value.trim().length > 5){
       // password.className = "success"
       if(passwordConfirm.value.trim() === ""){
       showError(passwordConfirm, PasswordConfirm,'Please enter the field to confirm password')
   }else if(password.value.trim() === passwordConfirm.value.trim()){
       // passwordConfirm.className = "success";
       $("#change-passwordform").submit();
   }else{
       showError(passwordConfirm, PasswordConfirm,'Please enter the same password')
   }
   }else{
       showError(password, Password,'please enter a password of atlest six digits')
   }
   
   
   })
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script>
   $(document).ready(function(){
     $("#list1").click(function(){
       $("#list3-1").removeClass("active");
       $("#list3-2").removeClass("active");
       $("#list3-3").removeClass("active");
   
       $("#editProfile").addClass("active");
       $("#changePassword").removeClass("active");
       $("#referral").removeClass("active");
        
      $("#side-list-3").removeClass("active1");
      $("#side-list-2").removeClass("active1");
      $("#side-list-1").addClass("active1");
     });
     $("#list2").click(function(){
       $("#list3-1").removeClass("active");
       $("#list3-2").removeClass("active");
       $("#list3-3").removeClass("active");
     });
     $("#list4").click(function(){
       $("#list3-1").removeClass("active");
       $("#list3-2").removeClass("active");
       $("#list3-3").removeClass("active");
   
       $("#editProfile").removeClass("active");
       $("#changePassword").removeClass("active");
       $("#referral").addClass("active");
        
      $("#side-list-3").addClass("active1");
      $("#side-list-2").removeClass("active1");
      $("#side-list-1").removeClass("active1");
     });
     $("#list5").click(function(){
       $("#list3-1").removeClass("active");
       $("#list3-2").removeClass("active");
       $("#list3-3").removeClass("active");
     });
     $("#list3-1").click(function(){
       console.log("clicked");
       $("#list1").removeClass("active");
       $("#list2").removeClass("active");
       // $("#list3").removeClass("active");
       // $("#list3-1").addClass("active");
       // $("#list3-2").removeClass("active");
       // $("#list3-3").removeClass("active");
       $("#list4").removeClass("active");
       $("#list5").removeClass("active");
     })
     $("#list3-2").click(function(){
       console.log("clicked");
       $("#list1").removeClass("active");
       $("#list2").removeClass("active");
       // $("#list3").removeClass("active");
       // $("#list3-2").addClass("active");
       // $("#list3-1").removeClass("active");
       // $("#list3-3").removeClass("active");
       $("#list4").removeClass("active");
       $("#list5").removeClass("active");
     })
     $("#list3-3").click(function(){
       console.log("clicked"); 
       $("#list1").removeClass("active");
       $("#list2").removeClass("active");
       // $("#list3").removeClass("active");
       // $("#list3-3").addClass("active");
       // $("#list3-2").removeClass("active");
       // $("#list3-1").removeClass("active");
       $("#list4").removeClass("active");
       $("#list5").removeClass("active");
     })
   })
</script>
<script>
   $(document).ready(function(){
    $("#side-list-1").click(function(){
      
      $("#side-list-1").addClass("active1");
      $("#side-list-2").removeClass("active1");
      $("#side-list-3").removeClass("active1");
    })
    $("#side-list-2").click(function(){
      
      $("#side-list-2").addClass("active1");
      $("#side-list-1").removeClass("active1");
      $("#side-list-3").removeClass("active1");
    })
    $("#side-list-3").click(function(){
      
      $("#side-list-3").addClass("active1");
      $("#side-list-2").removeClass("active1");
      $("#side-list-1").removeClass("active1");
    })
   });
</script>
<script type="text/javascript">
   //Toggle password icon code
   $(".toggle-password").click(function() {
   
   $(this).toggleClass("fa-eye fa-eye-slash");
   var input = $($(this).attr("toggle"));
   if (input.attr("type") == "text") {
     input.attr("type", "password");
   } else {
     input.attr("type", "text");
   }
   });
</script>
<script>
   const list_items = [
     {
       from : "Indira Gandhi International Airport(del.), Delhi-Agra",
       mobile : "8213133322",
       bookedOn : "01/12/2019,10:00 AM",
       PickupDate: "19/02/2020 12:00 PM",
       email : "8213133322",
       totalAmountPaid : "1700.50",
       creditUsed : "3000.00",
       advancePayment : "1000.00",
       amountDue : "2000.00",
       carNumber : "HR36-KL-2364",
       carType : "Toyota Innova",
       driver: "Chetan Rana"
   
     }
     
   
   ]  
   
   const list_element = document.getElementById('list');
   const pagination_element = document.getElementById('pagination');
   
   let current_page = 1;
   let rows = 2;
   let count_page;
   function DisplayList (items, wrapper, rows_per_page, page) {
    wrapper.innerHTML = "";
    page--;
   
    let start = rows_per_page * page;
    let end = start + rows_per_page;
    let paginatedItems = items.slice(start, end);
   
    for (let i = 0; i < paginatedItems.length; i++) {
      let item = paginatedItems[i];
   
      let item_element = document.createElement('div');
      item_element.classList.add('item');
      // item_element.innerText = item;
           // let item_element = document.createElement('div');
           // item_element.innerHTML = document.getElementById('listitem1').innerHTML;
           // console.log(item_element);
           // item_element.classList.add(`list${i+1}`);
           // console.log(item_element.classList);
           // var temp2 = document.getElementsByClassName(`list${i+1}`).innerHTML;
           // var temp = document.querySelector(`#listitem1 > div > div > h4 > .from`).innerHTML;
           // console.log(temp);
           // $(temp).innerText = list_items[i].from ;
           // console.log( $(`list${i+1} .from`).innerText);
           // console.log(i);
   
           
   
           let text = `<div>
                         <div class="item-pagination">
   
                           <div class="item  col-xs-4 col-lg-4">
                             <div class="row CardHeader">
                               <div class="col-xs-8 col-md-8 col-sm-8">
                                 <strong>Your Ride:&nbsp;&nbsp;<span class="trip_est styletext">${paginatedItems[i].from} </span><span
                                     class="styletext fas fa-map-marker-alt"></span></strong>
   
                               </div>
                               <div class="col-md-4 col-xs-4 col-sm-4">
                                 <strong>Review</strong>&nbsp;&nbsp;<span class="trip_est">
                                   <span class="fa fa-star checked styletext"></span>
                                   <span class="fa fa-star checked styletext"></span>
                                   <span class="fa fa-star checked styletext"></span>
                                   <span class="fa fa-star styletext"></span>
                                   <span class="fa fa-star styletext"></span></span>
                               </div>
   
                             </div>
                             <div class="row">
                               <div class="col-md-3 col-xs-12">
                                 <img style="max-height: 95px" src="http://placehold.it/400x250/000/fff" alt="" />
                               </div>
                               <div class="col-md-5 col-xs-12 col-sm-12">
                                 <h4>
                                   Prakash Ponia</h4>
                                 <p>
                                   <span class="trip_est">Mobile : ${paginatedItems[i].mobile}</span><br>
                                   <span class="trip_est">Email : ${paginatedItems[i].email} </span><br>
                                   <span class="trip_est">Booked On : ${paginatedItems[i].bookedOn} </span><br>
                                   <span class="trip_est">Pickup Date : ${paginatedItems[i].PickupDate}</span>
   
                                 </p>
                               </div>
                               <div class="col-md-4 col-xs-12">
                                 <p>
                                   <strong>Total Amount Paid:&nbsp;&nbsp;<span
                                       class="trip_est styletext">${paginatedItems[i].totalAmountPaid}</span></strong><br>
                                   <strong>Credit Used:&nbsp;&nbsp;<span
                                       class="trip_est styletext">${paginatedItems[i].creditUsed}</span></strong><br>
                                   <strong>Advance Payment:&nbsp;&nbsp;<span
                                       class="trip_est styletext">${paginatedItems[i].advancePayment}</span></strong><br>
                                   <strong>Amount Due:&nbsp;&nbsp;<span
                                       class="trip_est styletext">${paginatedItems[i].amountDue}</span></strong><br>
                                   <a style="color: green;" href="">Download Invoice</a>
   
                                 </p>
                               </div>
                             </div>
                             <div class="row">
                               <div class="col-xs-12 col-md-8">
                                 <strong>Cab Number:&nbsp;<span class="trip_est">${paginatedItems[i].carNumber}</span></strong>&nbsp;&nbsp;
                                 <strong>Cartype:&nbsp;<span class="trip_est">${paginatedItems[i].carType}</span></strong>&nbsp;&nbsp;
                                 <strong>Driver:&nbsp;<span class="trip_est">${paginatedItems[i].driver}</span></strong>
                               </div>
                             </div>
   
                           </div>
                         </div>
                       </div>`;
           // console.log(froms.length); 
           // froms[i].innerHTML = list_items[i].from;
           // console.log( list_items[i].from);
   
   
           // item_element.innerHTML = document.getElementById('listitem1').innerHTML;
      item_element.innerHTML = text;
      wrapper.appendChild(item_element);
    }
   }
   
   function SetupPagination (items, wrapper, rows_per_page) {
    wrapper.innerHTML = "";
   
    let page_count = Math.ceil(items.length / rows_per_page);
       count_page = page_count;
       // if( current_page != page_count){
       //     for (let i = current_page; i < current_page + 3; i++) {
    //      let btn = PaginationButton(i, items);
    //      wrapper.appendChild(btn);
    //     }
       // }else{
       //     let btn = PaginationButton(page_count, items);
       //     wrapper.appendChild(btn);
       // }
       
       if( (page_count-current_page) >= 3){
           for (let i = current_page; i <= current_page + 2; i++) {
          let btn = PaginationButton(i, items);
          wrapper.appendChild(btn);
        }
       }else{
           for (let i = current_page; i <= page_count; i++) {
          let btn = PaginationButton(i, items);
          wrapper.appendChild(btn);
        }
       }
    
   } 
   
       $("#prevButton").click(function(){
           
           console.log("Previous Button Clicked");
           console.log((Math.floor((current_page-1)/3)));
           if((Math.floor((current_page-1)/3)) > 0){
               pagination_element.innerHTML = "";
               let check = 0;
               for(let i = ((Math.floor((current_page-1)/3)-1)*3)+1  ; i <= (Math.floor((current_page-1)/3)-1)*3 +3 ; i++ ){
                   if( check == 0 ){
   
                   }
                   console.log("forLop");
                   let btn = PaginationButton(i, list_items);
              pagination_element.appendChild(btn);
                   check = 1 ;
               }
               current_page = ((Math.floor((current_page-1)/3)-1)*3)+1;
                DisplayList(list_items, list_element, rows, current_page);
           }
       })
       $("#nextButton").click(function(){
           
           console.log("Next Button Clicked");
           console.log("count_page is " + count_page);
           // var page_count = Math.ceil(list_items / rows);
           console.log( "Math.floor((current_page-1)/3) = " + Math.floor((current_page-1)/3) + " Math.floor(count_page/3) = "+ Math.floor(count_page/3) )
           if(((Math.floor((current_page-1)/3)+1)*3)+1 <= count_page){
           if( (Math.floor((current_page-1)/3)+1) < Math.floor(count_page/3) ){
               pagination_element.innerHTML = "";
               console.log(list_items.length);
               for(let i = ((Math.floor((current_page-1)/3)+1)*3)+1  ; i <= (Math.floor((current_page-1)/3)+1)*3 +3 ; i++ ){
                   console.log("forLop");
                   let btn = PaginationButton(i, list_items);
                   // current_page = ((((current_page-1)/3)+1)*3)+1
                   
              pagination_element.appendChild(btn);
               }
               
           }else if(((Math.floor((current_page-1)/3)+1)*3)+1 <= count_page){
               pagination_element.innerHTML = "";
               for(let i = ((Math.floor((current_page-1)/3)+1)*3)+1  ; i <= count_page ; i++  ){
                   // current_page = ((((current_page-1)/3)+1)*3)+1
                   
                       // console.log("forLop");
                       let btn = PaginationButton(i, list_items);
                  pagination_element.appendChild(btn);
                   
               }
           }
           current_page = ((Math.floor((current_page-1)/3)+1)*3)+1;
           DisplayList(list_items, list_element, rows, current_page);
          
           }
          
       })
   
   
   function PaginationButton (page, items) {
    let button = document.createElement('button');
    button.innerText = page;
   
    if (current_page == page) button.classList.add('active');
   
    button.addEventListener('click', function () {
      current_page = page;
           // SetupPagination(list_items, pagination_element, rows);
      DisplayList(items, list_element, rows, current_page);
   
      let current_btn = document.querySelector('.pagenumbers button.active');
      current_btn.classList.remove('active');
   
      button.classList.add('active');
    });
   
    return button;
   }
   
   DisplayList(list_items, list_element, rows, current_page);
   SetupPagination(list_items, pagination_element, rows);
   




    function confirmReject(url){
        if(confirm("Do you want to reject the ride?")){
            // write the url you want to request for here
            location.href = url;
        }else{

        }
    }



</script>
{% endblock extra_scripts %}

