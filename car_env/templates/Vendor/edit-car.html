{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% load widget_tweaks %}
{% load fullurl %}
{% block extra_stylesheet %}
<link href="{% static 'css/vendor.css' %}" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css" rel="stylesheet" type="text/css" />
{% endblock extra_stylesheet %}
{% block content %}
<div class="tj-wrapper">
   <div class="container">
      <div class="row">
         {% include 'Vendor/vendorSidebar.html' %}
         <!-- ------Begning of navigation tabs------- -->
         <div class="col-md-9" >
            <div class="col-md-12 col-sm-12 vendorHeader">
               <h4 class="text-center">Edit Car Details</h4>
            </div>
            <div class="col-sm-10 ">
               <br>
               <form class="" method="post" enctype="multipart/form-data">
                  {% csrf_token %}
                  <div class="foam-field">
                     <label>Owner Name</label>
                     {% render_field car_form.owner_name %}
                  </div>
                  <div class="errorSpace">{{ car_form.owner_name.errors }}</div>
                  <div class="foam-field">
                     <label>Father's Name</label>
                     {% render_field car_form.father_name %}
                  </div>
                  <div class="errorSpace">{{ car_form.father_name.errors }}</div>
                  <div class="foam-field">
                     <label>Vehicle Type</label>
                     {% render_field car_form.car_type %}
                  </div>
                  <div class="errorSpace">{{ car_form.car_type.errors }}</div>
                  <div class="foam-field">
                     <label>Registration No</label>
                     {% render_field car_form.registration_no %}
                  </div>
                  <div class="errorSpace">{{ car_form.registration_no.errors }}</div>
                  <div class="foam-field">
                     <label>Upload Car photo*</label>
                     <div class="vendorFile uploadFile2 " >
                        {% render_field car_form.image_front %}
                        <p class="fileUploadtext"  id="id_car-image_front-p">
                           <i class="far fa-file"></i> &ensp; Front Side
                        </p>
                     </div>
                     <div class="vendorFile uploadFile2" >
                        {% render_field car_form.image_rear %}
                        <p class="fileUploadtext" id="id_car-image_rear-p">
                           <i class="far fa-file"></i> &ensp; Back side
                        </p>
                     </div>
                  </div>
                  <div class="errorSpace">{{ car_form.image_front.errors }}</div>
                  <div class="errorSpace">{{ car_form.image_rear.errors }}</div>
                  <div class="foam-field">
                     <label>Upload RC photo*</label>
                     <div class="vendorFile uploadFile2" >
                        {% render_field car_form.rc_front %}
                        <p class="fileUploadtext" id="id_car-rc_front-p">
                           <i class="far fa-file"></i> &ensp; Front Side
                        </p>
                     </div>
                     <div class="vendorFile uploadFile2" >
                        {% render_field car_form.rc_rear %}
                        <p class="fileUploadtext" id="id_car-rc_rear-p">
                           <i class="far fa-file"></i> &ensp; Back side
                        </p>
                     </div>
                  </div>
                  <div class="errorSpace">{{ car_form.rc_front.errors }}</div>
                  <div class="errorSpace">{{ car_form.rc_rear.errors }}</div>
                  <div class="foam-field">
                     <label>RC valid upto</label>
                     {% render_field car_form.rc_valid_upto id="datepicker5" data-date-format="mm-dd-yyyy" readonly='true' %}
                     <i class="dateIcon glyphicon glyphicon-calendar"></i>
                  </div>
                  <div class="errorSpace">{{ car_form.rc_valid_upto.errors }}</div>
                  <div class="foam-field ">
                     <label>Upload Tourists Permit*</label>
                     <div class="vendorFile uploadFile2" >
                        {% render_field car_form.touristpermit_front %}
                        <p class="fileUploadtext" id="id_car-touristpermit_front-p">
                           <i class="far fa-file"></i> &ensp; Front Side
                        </p>
                     </div>
                     <div class="vendorFile uploadFile2" >
                        {% render_field car_form.touristpermit_rear %}
                        <p class="fileUploadtext" id="id_car-touristpermit_rear-p">
                           <i class="far fa-file"></i> &ensp; Back side
                        </p>
                     </div>
                  </div>
                  <div class="errorSpace">{{ car_form.touristpermit_front.errors }}</div>
                  <div class="errorSpace">{{ car_form.touristpermit_rear.errors }}</div>
                  <div class="foam-field">
                     <label>Tourist Permit valid upto</label>
                     {% render_field car_form.touristpermit_valid_upto id="datepicker6" data-date-format="mm-dd-yyyy" readonly='true' %}
                     <i class="dateIcon glyphicon glyphicon-calendar"></i>
                  </div>
                  <div class="errorSpace">{{ car_form.touristpermit_valid_upto.errors }}</div>
                  <div class="foam-field ">
                     <label>Upload Permit A*</label>
                     <div class="vendorFile uploadFile2" >
                        {% render_field car_form.permita_front %}
                        <p class="fileUploadtext" id="id_car-permita_front-p">
                           <i class="far fa-file"></i> &ensp; Front Side
                        </p>
                     </div>
                     <div class="vendorFile uploadFile2" >
                        {% render_field car_form.permita_rear %}
                        <p class="fileUploadtext" id="id_car-permita_rear-p">
                           <i class="far fa-file"></i> &ensp; Back side
                        </p>
                     </div>
                  </div>
                  <div class="errorSpace">{{ car_form.permita_front.errors }}</div>
                  <div class="errorSpace">{{ car_form.permita_rear.errors }}</div>
                  <div class="foam-field ">
                     <label>Upload Permit B*</label>
                     <div class="vendorFile uploadFile2" >
                        {% render_field car_form.permitb_front %}
                        <p class="fileUploadtext" id="id_car-permitb_front-p">
                           <i class="far fa-file"></i> &ensp; Front Side
                        </p>
                     </div>
                     <div class="vendorFile uploadFile2" >
                        {% render_field car_form.permitb_rear %}
                        <p class="fileUploadtext" id="id_car-permitb_rear-p">
                           <i class="far fa-file"></i> &ensp; Back side
                        </p>
                     </div>
                  </div>
                  <div class="errorSpace">{{ car_form.permitb_front.errors }}</div>
                  <div class="errorSpace">{{ car_form.permitb_rear.errors }}</div>
                  <div class="foam-field ">
                     <label>Upload Insurance</label>
                     <div class="vendorFile">
                        {% render_field car_form.insurance_front %}
                        <p class="fileUploadtext" id="id_car-insurance_front-p">
                           <i class="far fa-file"></i> &ensp; Drop file here
                        </p>
                     </div>
                  </div>
                  <div class="errorSpace">{{ car_form.insurance_front.errors }}</div>
                  <div class="foam-field">
                     <label>Insurance valid upto</label>
                     {% render_field car_form.insurance_valid_upto id="datepicker7" data-date-format="mm-dd-yyyy" readonly='true' %}
                     <i class="dateIcon glyphicon glyphicon-calendar"></i>
                  </div>
                  <div class="errorSpace">{{ car_form.insurance_valid_upto.errors }}</div>
                  <div class="foam-field ">
                     <label>Upload Pollution Certificate</label>
                     <div class="vendorFile">
                        {% render_field car_form.pollution_certificate %}
                        <p class="fileUploadtext" id="id_car-pollution_certificate-p">
                           <i class="far fa-file"></i> &ensp; Drop file here
                        </p>
                     </div>
                  </div>
                  <div class="errorSpace">{{ car_form.pollution_certificate.errors }}</div>
                  <div class="col-sm-12 booking-frm dashButton"> 
                     <button class="book-btn" type="submit">Update
                     </button>&nbsp;&nbsp;
                      <a href="{% url 'vendor:cars' %}">
                         <button class="book-btn" id="hide-carbtn" type="button">Cancel</button>
                      </a>
                  </div>
               </form>
            </div>
         </div>
      </div>
   </div>
</div>
{% endblock content %}
{% block extra_scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
<script>
   $(function () {
       var d = new Date();
       var current_year = d.getFullYear();
       /////////////set age restrictions here////////////////////
       var req_year = current_year - 18;
       var month = d.getMonth();
       var date = d.getDate();
       var req_date = req_year + "/" + month + "/" + date;
       var today_date = current_year + "/" + month + "/" + date;
       $("#datepicker").datepicker({
           dateformat: "yyyy-mm-dd",
           autoclose: true,
           todayHighlight: false,
           endDate: req_date
       }).datepicker('update', new Date());
   
   
       $(function () {
           $("#datepicker5").datepicker({
               format: "yyyy-mm-dd",
               autoclose: true,
               todayHighlight: false,
               startDate: new Date(),
           })
       });
       $(function () {
           $("#datepicker6").datepicker({
               format: "yyyy-mm-dd",
               autoclose: true,
               todayHighlight: false,
               startDate: new Date(),
           })
       });
       $(function () {
           $("#datepicker7").datepicker({
               format: "yyyy-mm-dd",
               autoclose: true,
               todayHighlight: false,
               startDate: new Date(),
           })
       });
   });
   
   
   $("#show-carbtn").click(function(){
       $(".addCarFoam").show();
   });
   $("#hide-carbtn").click(function(){
       $(".addCarFoam").hide();
   });
</script>
<script type="text/javascript">
   $(function () {
       // Function to return file name to the input field
        $('input[type="file"]').change(function(e){
               var fileName = e.target.files[0].name;
               var id = e.target.id;
               console.log(id);
               var pfile = '#' + id + '-p';
               $(pfile).text(fileName);
               $(pfile).css("font-weight","600");
       });
   });
   
</script>
{% endblock extra_scripts %}